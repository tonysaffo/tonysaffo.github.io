(this["webpackJsonployaltip-client"]=this["webpackJsonployaltip-client"]||[]).push([[0],{107:function(n,e,t){"use strict";t.r(e);var r=t(25),a=t(20),o=t(22),c=t(28),i=t(29),u=t(33),l=t(0),m=t.n(l),s=t(10),f=t.n(s),b=t(23),d=t(5),h=t(3);function p(){var n=Object(d.a)(["\n      margin: 0 ",";\n    "]);return p=function(){return n},n}function g(){var n=Object(d.a)(["\n      margin: "," 0;\n    "]);return g=function(){return n},n}function O(){var n=Object(d.a)(["\n      margin-right: ",";\n    "]);return O=function(){return n},n}function j(){var n=Object(d.a)(["\n      margin-left: ",";\n    "]);return j=function(){return n},n}function v(){var n=Object(d.a)(["\n      margin-bottom: ",";\n    "]);return v=function(){return n},n}function y(){var n=Object(d.a)(["\n      margin-top: ",";\n    "]);return y=function(){return n},n}function E(){var n=Object(d.a)(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return E=function(){return n},n}function x(){var n=Object(d.a)(["\n      display: flex;\n      flex-direction: ",";\n      justify-content: ",";\n      align-items: ",";\n    "]);return x=function(){return n},n}function w(){var n=Object(d.a)(["\n  ","\n"]);return w=function(){return n},n}function N(){var n=Object(d.a)(["\n  color: ",";\n  background-color: ",";\n"]);return N=function(){return n},n}function k(){var n=Object(d.a)(['\n  font-family: "Roboto";\n']);return k=function(){return n},n}function L(){var n=Object(d.a)(['\n  font-family: "Cinzel", serif;\n']);return L=function(){return n},n}Object(h.c)(L());var S=Object(h.c)(k()),C=Object(h.c)(N(),(function(n){return n.theme.colors[n.color]||n.theme.colors.primaryText}),(function(n){return n.theme.colors[n.bgColor]||n.theme.colors.bgPrimary})),z=Object(h.c)(w(),(function(n){return n.flex&&Object(h.c)(x(),n.flex.direction,n.flex.justify,n.flex.align)})),I=Object(h.c)(E(),(function(n){return n.mt&&Object(h.c)(y(),n.theme.spaces[n.mt])}),(function(n){return n.mb&&Object(h.c)(v(),n.theme.spaces[n.mb])}),(function(n){return n.ml&&Object(h.c)(j(),n.theme.spaces[n.ml])}),(function(n){return n.mr&&Object(h.c)(O(),n.theme.spaces[n.mr])}),(function(n){return n.my&&Object(h.c)(g(),n.theme.spaces[n.my])}),(function(n){return n.mx&&Object(h.c)(p(),n.theme.spaces[n.mx])})),R=t(59),_=t.n(R);function G(){var n=Object(d.a)(["\n  padding: 1rem;\n  position: relative;\n"]);return G=function(){return n},n}function T(){var n=Object(d.a)(["\n  padding: 1rem;\n  ",";\n"]);return T=function(){return n},n}h.d.div(T(),z);var F=Object(h.d)((function(n){var e=n.children,t=n.className;return m.a.createElement(_.a,{className:"MainContainer ".concat(t)},e)}))(G()),B=t(2);function W(){var n=Object(d.a)(["\n  position: relative;\n  width: 100%;\n  input {\n    width: 100%;\n    height: 4rem;\n    box-sizing: border-box;\n    border: 0;\n    background: none;\n    border-bottom: 1px solid #ccc;\n    outline: none;\n    border-radius: 0;\n    font-size: 1rem;\n    -webkit-appearance: none;\n    &:focus {\n      & ~ label {\n        color: ",';\n        transform: translateY(-1.5rem);\n        font-size: 0.825em;\n        cursor: default;\n      }\n    }\n    &:focus {\n      & ~ .underline {\n        width: 100%;\n      }\n    }\n  }\n  label {\n    position: absolute;\n    top: 0;\n    left: 0;\n    /* height: 1rem; */\n    line-height: 4rem;\n    color: #ccc;\n    cursor: text;\n    transition: all 200ms ease-out;\n    z-index: -1;\n  }\n  .underline {\n    content: "";\n    display: block;\n    position: absolute;\n    bottom: -1px;\n    left: 0;\n    width: 0;\n    height: 2px;\n    background: ',";\n    transition: all 200ms ease-out;\n  }\n"]);return W=function(){return n},n}Object(h.d)((function(n){var e=n.label,t=n.className,r=n.name,a=Object(B.a)(n,["label","className","name"]);return m.a.createElement("div",{className:"".concat(t," Input")},m.a.createElement("input",Object.assign({type:"text"},a,{name:r})),m.a.createElement("label",{htmlFor:r},e),m.a.createElement("span",{class:"underline"}))}))(W(),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.colors.accent}));function M(){var n=Object(d.a)(["\n          width: 100%;\n        "]);return M=function(){return n},n}function U(){var n=Object(d.a)(["\n  text-transform: uppercase;\n  padding: 0 3rem;\n  height: 3rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  border: none;\n  background-color: ",";\n  border-bottom: 2px solid ",";\n  border-top: 2px solid ",";\n  color: white;\n  font-size: 0.9rem;\n  letter-spacing: 2px;\n  font-weight: bold;\n\n  ",";\n"]);return U=function(){return n},n}var D=h.d.button(U(),(function(n){return n.theme.colors[n.bgColor]}),(function(n){return n.theme.colors.primaryDark}),(function(n){return n.theme.colors.primary}),(function(n){return n.fullWidth?Object(h.c)(M()):null})),A=function(n){var e=n.loading,t=n.children,r=Object(B.a)(n,["loading","children"]);return e?m.a.createElement(D,r,m.a.createElement(Q,null)):m.a.createElement(D,r,t)};function q(){var n=Object(d.a)(["\n  margin: 0 auto;\n  width: 70px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  > div {\n    width: 0.5rem;\n    height: 0.5rem;\n    margin: 4px;\n    background-color: white;\n    border-radius: 100%;\n    display: inline-block;\n    animation: "," 1.4s infinite ease-in-out both;\n  }\n  .bounce1 {\n    animation-delay: -0.32s;\n  }\n  .bounce2 {\n    animation-delay: -0.16s;\n  }\n"]);return q=function(){return n},n}function J(){var n=Object(d.a)(["\n  0%, 80%, 100% { \n    transform: scale(0);\n  } 40% { \n    transform: scale(1.0);\n  }\n"]);return J=function(){return n},n}var P=Object(h.e)(J()),Q=Object(h.d)((function(n){var e=n.className;return m.a.createElement("div",{className:"spinner ".concat(e)},m.a.createElement("div",{className:"bounce1"}),m.a.createElement("div",{className:"bounce2"}),m.a.createElement("div",{className:"bounce3"}))}))(q(),P);function H(){var n=Object(d.a)(["\n  body, html {\n    height: 100%;\n    margin: 0;\n  }\n  html {\n    scroll-behavior: smooth;\n    font-size: 16px;\n    line-height: 1.3;\n    /* @media screen and (max-width: 1300px) {\n      font-size: 15px;\n    }\n    @media screen and (max-width: 1024px) {\n      font-size: 14px;\n    } */\n  }\n  body {\n    margin: 0;\n  }\n  a, button {\n    text-decoration: none;\n    cursor: pointer;\n  }\n  * {\n    color: ",";\n    box-sizing: border-box;\n    ","\n    /* "," */\n    -webkit-overflow-scrolling: touch;\n    &::-webkit-scrollbar {\n      width: 0;\n    }\n  }\n  input, button, video {\n    outline: none;\n    ",';\n    \n  }\n  code {\n    font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",\n      monospace;\n  }\n']);return H=function(){return n},n}var Y=Object(h.b)(H(),(function(n){return n.theme.colors.primaryText}),S,I,S);function K(){var n=Object(d.a)(["\n      color: ",";\n    "]);return K=function(){return n},n}function V(){var n=Object(d.a)(["\n      font-size: 2rem;\n    "]);return V=function(){return n},n}function X(){var n=Object(d.a)(["\n      font-size: 1.5rem;\n    "]);return X=function(){return n},n}function Z(){var n=Object(d.a)(["\n      text-transform: uppercase;\n    "]);return Z=function(){return n},n}function $(){var n=Object(d.a)(["\n      font-size: 1.3rem;\n    "]);return $=function(){return n},n}function nn(){var n=Object(d.a)(["\n  margin: 0;\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return nn=function(){return n},n}var en=h.d.h3(nn(),(function(n){return n.m&&Object(h.c)($())}),(function(n){return n.ttu&&Object(h.c)(Z())}),(function(n){return n.l&&Object(h.c)(X())}),(function(n){return n.xl&&Object(h.c)(V())}),(function(n){return n.accent&&Object(h.c)(K(),n.theme.colors.accent)}),I,C),tn=t(136),rn=t(70),an=t(18),on=t(64),cn=t.n(on),un=new(function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return(t=Object(c.a)(this,(n=Object(i.a)(e)).call.apply(n,[this].concat(o)))).login=function(n){return cn.a.post("".concat(t._apiBase,"/auth/login"),n)},t}return Object(u.a)(e,n),e}((function n(){Object(a.a)(this,n),this._apiBase="https://mendelson.dev/api/v1",this._apiBaseLocal="http://localhost:5001/api/v1"}))),ln=function(n){return{type:"LOGIN_ERROR",payload:n}},mn=function(){return{type:"LOGOUT"}};function sn(){var n=Object(d.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n\n  "," {\n    margin-bottom: 2rem;\n  }\n  .Logo {\n    margin-bottom: 5rem;\n  }\n  "," {\n    margin-bottom: 2rem;\n    margin-top: 1rem;\n  }\n  .inputField {\n    margin-bottom: 1rem;\n  }\n"]);return sn=function(){return n},n}var fn=Object(h.d)(Object(an.b)((function(n){return{auth:n.auth}}),{login:function(n){return function(e){e({type:"LOGIN_REQ"}),un.login(n).then((function(n){console.log(n),n.data&&n.data.token?(localStorage.setItem("token",n.data.token),e({type:"LOGIN_SUCCESS"})):e(ln("Something went wrong in login"))})).catch((function(n){e(ln("Something went wrong in login")),setTimeout((function(){return e(ln(null))}),2e3)}))}}})((function(n){var e=n.className,t=n.login,r=n.auth,a=Object(rn.a)(),o=a.register,c=a.handleSubmit,i=a.errors;return m.a.createElement(F,{className:"LoginPage ".concat(e)},m.a.createElement(en,{xl:!0,ttu:!0,className:"Logo"},"Loyaltip"),m.a.createElement("form",{onSubmit:c((function(n){console.log(r),t(n)}))},m.a.createElement(tn.a,{label:"Email",variant:"outlined",fullWidth:!0,className:"inputField",name:"email",inputRef:o({required:!0}),error:!!i.email}),m.a.createElement(tn.a,{error:!!i.password,inputRef:o({required:!0}),label:"\u041f\u0430\u0440\u043e\u043b\u044c",variant:"outlined",type:"password",fullWidth:!0,name:"password",className:"inputField"}),r.error&&m.a.createElement(en,{xs:!0,color:"danger"},r.error),m.a.createElement(A,{bgColor:"primary",fullWidth:!0,type:"submit",loading:r.loading},"\u0412\u043e\u0439\u0442\u0438")),m.a.createElement(en,{l:!0,color:"primary"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),m.a.createElement(en,{s:!0,color:"primary"},"\u0437\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))})))(sn(),en,D),bn=Object(an.b)(null,{logout:function(){return function(n){localStorage.removeItem("token"),n(mn())}}})((function(n){var e=n.children,t=n.logout;return m.a.createElement("div",{className:"LogoutBlock",onClick:t},e)}));function dn(){var n=Object(d.a)(["\n  position: absolute;\n  height: 70px;\n  display: flex;\n  align-items: center;\n  bottom: 0;\n  justify-content: center;\n  width: 100%;\n  left: 0;\n  background-color: #eee;\n"]);return dn=function(){return n},n}var hn=Object(h.d)((function(n){var e=n.className;return m.a.createElement("div",{className:"BottomNav ".concat(e)},m.a.createElement(bn,null,m.a.createElement(D,{bgColor:"primary"},"Logoutn")))}))(dn()),pn=function(n){var e=n.className;return m.a.createElement(F,{className:"Dashboard ".concat(e)},m.a.createElement(hn,null))},gn=Object(an.b)((function(n){return{auth:n.auth}}),{autoLogin:function(){return function(n){localStorage.getItem("token")?n({type:"LOGIN_SUCCESS"}):n(mn())}}})((function(n){var e=n.className,t=n.auth,r=n.autoLogin;return Object(l.useEffect)((function(){return r()}),[r]),m.a.createElement("div",{className:e},m.a.createElement(b.d,null,t.authorized?null:m.a.createElement(b.d,null,m.a.createElement(b.b,{path:"/login"},m.a.createElement(fn,null)),m.a.createElement(b.b,{path:"/register"},m.a.createElement("div",null,"register")),m.a.createElement(b.a,{from:"/",to:"/login"})),m.a.createElement(b.b,{path:"/dashboard"},m.a.createElement(pn,null)),m.a.createElement(b.a,{from:"/",to:"/dashboard"})))})),On=t(37),jn=t(68),vn=t(135),yn=t(21),En=t(66),xn=t(67),wn=t(35),Nn=t(34),kn=t(134),Ln={},Sn={},Cn={};Ln.spaces={xs:"0.5rem",s:"0.9rem",m:"1.5rem",l:"2rem",xl:"3rem"},Ln.imgWidth={s:"5rem",m:"10rem",l:"15rem",xl:"20rem"},(Sn=Object(r.a)({},Ln)).name="light",Sn.colors={primary:wn.a[700],primaryDark:wn.a[900],primaryLight:wn.a[500],primaryText:Nn.a[800],accent:kn.a.A400,light:"#eee",text:"#9098A6",success:"#70ffb3",accentLight:"#fff2c7",secondary:"#556275",bgColor:"#FFF4CE",danger:"tomato"},Sn.palette={primary:{main:Sn.colors.primary}},(Cn=Object(r.a)({},Ln)).name="dark",Cn.colors={primary:"white",accent:"tomato",secondary:"#999",bgColor:"#333",danger:"blue"};var zn={theme:"dark"===localStorage.getItem("theme")?Cn:Sn},In={authorized:!1,loading:!1,error:null},Rn=Object(yn.combineReducers)({theme:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zn,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_THEME":return localStorage.setItem("theme",e.payload.name),{theme:e.payload};default:return n}},auth:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:In,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"LOGIN_REQ":return Object(r.a)({},n,{loading:!0});case"LOGIN_SUCCESS":return{error:null,authorized:!0,loading:!1};case"LOGIN_ERROR":return{error:e.payload,authorized:!1,loading:!1};case"LOGOUT":return{error:!1,authorized:!1,loading:!1};default:return n}}}),_n=Object(yn.createStore)(Rn,Object(xn.composeWithDevTools)(Object(yn.applyMiddleware)(En.a))),Gn=function(n){function e(){return Object(a.a)(this,e),Object(c.a)(this,Object(i.a)(e).apply(this,arguments))}return Object(u.a)(e,n),Object(o.a)(e,[{key:"render",value:function(){var n=this.props.theme,e=Object(jn.a)(Object(r.a)({},n));return m.a.createElement(h.a,{theme:n},m.a.createElement(vn.a,{theme:e},m.a.createElement(gn,null),m.a.createElement(Y,null)))}}]),e}(m.a.Component),Tn=Object(b.g)(Object(an.b)((function(n){return{theme:n.theme.theme}}))(Gn));f.a.render(m.a.createElement(an.a,{store:_n},m.a.createElement(On.a,null,m.a.createElement(Tn,null))),document.getElementById("root"))},75:function(n,e,t){n.exports=t(107)}},[[75,1,2]]]);
//# sourceMappingURL=main.35e4ea33.chunk.js.map